{% extends "base.html" %}

{% block head %}
  <link rel="stylesheet" href="/static/css/pages/contact.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.3.2/jsencrypt.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" defer></script>
{% endblock %}

{% block content %}
<section id="contact-intro">
    <div class="content-container">
        <h1>Contact</h1>
        <p class="intro-text">Tu veux nous contacter, témoigner, ou simplement discuter ? Voici comment faire.</p>
        <div class="collab-tip">
            <i class="fa-solid fa-lightbulb"></i>
            <div class="tip-content">
                <p class="tip-title">Comment envoyer ton témoignage :</p>
                <ul class="tip-list-icons">
                    <li>
                        <i class="fa-solid fa-file-lines"></i>
                        <div class="tip-item-content">
                            <strong>Témoignage écrit</strong>
                            <p>Envoie-nous simplement le titre et ton récit. Nous ajouterons la date de réception et corrigerons les fautes d'orthographe.</p>
                        </div>
                    </li>
                    <li>
                        <i class="fa-solid fa-microphone"></i>
                        <div class="tip-item-content">
                            <strong>Témoignage audio</strong>
                            <p>Envoie-nous ton enregistrement avec un titre. Si la qualité est suffisante, nous le publierons sur le site.</p>
                        </div>
                    </li>
                    <li>
                        <i class="fa-solid fa-location-dot"></i>
                        <div class="tip-item-content">
                            <strong>Rencontres en personne</strong>
                            <p>Nous cherchons à acquérir du matériel d'enregistrement de qualité et pourrons bientôt organiser des rencontres sur Paris. Si cette option t'intéresse, contacte-nous par mail.</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>

<div class="contact-container">
    <div class="contact-methods">
        <div class="contact-card">
            <div class="card-header">
                <i class="fa-solid fa-envelope-open-text"></i>
                <h2>Méthodes de contact</h2>
            </div>
            
            <ul class="contact-list">
                <li>
                    <div class="contact-icon">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <div class="contact-info">
                        <h3>Email</h3>
                        <a href="mailto:sous.les.paillettes@gmail.com" aria-label="Envoyer un email">sous.les.paillettes@gmail.com</a>
                    </div>
                </li>
                <li>
                    <div class="contact-icon">
                        <i class="fa-brands fa-instagram"></i>
                    </div>
                    <div class="contact-info">
                        <h3>Instagram</h3>
                        <a href="https://www.instagram.com/trans_cryption" target="_blank" rel="noopener" aria-label="Visiter Instagram">@trans_cryption</a>
                    </div>
                </li>
            </ul>
            
            <div class="alt-methods">
                <h3>Autres façons de témoigner</h3>
                <p>Si tu préfères utiliser d'autres méthodes, tu peux :</p>
                <ul>
                    <li><i class="fa-solid fa-envelope"></i> Envoyer un email anonyme depuis <a href="https://proton.me" target="_blank" rel="noopener">ProtonMail</a></li>
                    <li><i class="fa-solid fa-edit"></i> Utiliser un document partagé anonyme via <a href="https://cryptpad.fr" target="_blank" rel="noopener">CryptPad</a></li>
                </ul>
                <p class="collab-tip"><i class="fa-solid fa-lightbulb"></i> Tu peux également créer un document partagé sur CryptPad que tu nous transmettras via notre formulaire de contact pour que nous puissions éditer ensemble et échanger directement à travers ce document.</p>
            </div>
        </div>
    </div>

    <div class="contact-form">
        <div class="form-card">
            <div class="card-header">
                <i class="fa-solid fa-user-secret"></i>
                <h2>Envoyer un témoignage</h2>
            </div>
            
            <p>Tu préfères rester anonyme ? Envoie ton message via ce formulaire sécurisé :</p>

            <form id="anon-form" action="https://api.web3forms.com/submit" method="POST" aria-live="polite">
                <input type="hidden" name="access_key" value="422d147d-1a5a-4107-aca5-6b895ed14756">

                <div class="form-group">
                    <label for="name">Nom ou pseudo</label>
                    <input type="text" id="name" name="name" required placeholder="Ton prénom ou un pseudo" aria-required="true">
                </div>

                <div class="form-group">
                    <label for="email">Adresse e-mail <span class="optional">(optionnel)</span></label>
                    <input type="email" id="email" name="email" placeholder="facultatif" aria-required="false">
                </div>

                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" required placeholder="Écris ton message ici..." aria-required="true" rows="6"></textarea>
                </div>

                <div class="form-actions">
                    <button type="submit" aria-label="Envoyer le témoignage">
                        <i class="fa-solid fa-paper-plane"></i> Envoyer
                    </button>
                </div>
            </form>

            <div id="form-feedback" class="feedback" role="alert" aria-live="assertive"></div>
            
            <details class="encryption-info">
                <summary class="encryption-summary">
                    <i class="fa-solid fa-lock"></i>
                    <span>Ton message est protégé par un chiffrement de bout en bout</span>
                    <i class="fa-solid fa-chevron-down expand-icon"></i>
                </summary>
                <div class="encryption-details">
                    <p>Comment ça fonctionne :</p>
                    <ol>
                        <li>Le chiffrement se fait directement dans ton navigateur, avant tout envoi</li>
                        <li>Une clé de chiffrement unique est générée pour chaque message</li>
                        <li>Seul notre système peut déchiffrer ton message, pas même le service d'hébergement du formulaire</li>
                    </ol>
                    <p class="encryption-note"><i class="fa-solid fa-info-circle"></i> Cette méthode assure la confidentialité de tes données tout au long de la transmission.</p>
                </div>
            </details>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
  <script src="/static/js/pages/contact.js" defer></script>
{% endblock %}
